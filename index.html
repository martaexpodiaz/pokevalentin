<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Detalle de San Valent√≠n</title>
<style>
  body {
    display: flex;
    justify-content: center;
    align-items: center;
    flex-direction: column;
    height: 100vh;
    background: #ffe6e6;
    font-family: 'Arial', sans-serif;
    overflow: hidden;
  }

  .pokeball {
    position: relative;
    width: 150px;
    height: 150px;
    cursor: pointer;
    transition: transform 0.2s;
  }

  .pokeball .top {
    width: 100%;
    height: 50%;
    background: red;
    border: 5px solid black;
    border-bottom: 2px solid black;
    border-radius: 100px 100px 0 0;
    position: absolute;
    top: 0;
    left: 0;
    z-index: 2;
    transition: transform 0.5s;
  }

  .pokeball .bottom {
    width: 100%;
    height: 50%;
    background: white;
    border: 5px solid black;
    border-top: 2px solid black;
    border-radius: 0 0 100px 100px;
    position: absolute;
    bottom: 0;
    left: 0;
    z-index: 1;
  }

  .pokeball .center {
    position: absolute;
    top: 50%;
    left: 50%;
    width: 30px;
    height: 30px;
    background: white;
    border: 5px solid black;
    border-radius: 50%;
    transform: translate(-50%, -50%);
    z-index: 3;
  }

  .message {
    margin-top: 20px;
    text-align: center;
    font-size: 1.2em;
    display: none;
  }

  .hearts {
    position: absolute;
    top: 0;
    left: 50%;
    transform: translateX(-50%);
    pointer-events: none;
  }

  .heart {
    position: absolute;
    width: 20px;
    height: 20px;
    background: red;
    transform: rotate(-45deg);
    animation: floatUp 2s ease forwards;
  }

  .heart::before,
  .heart::after {
    content: "";
    position: absolute;
    width: 20px;
    height: 20px;
    background: red;
    border-radius: 50%;
  }

  .heart::before {
    top: -10px;
    left: 0;
  }

  .heart::after {
    left: 10px;
    top: 0;
  }

  @keyframes floatUp {
    0% { transform: translate(-50%, 0) scale(1) rotate(-45deg); opacity:1; }
    100% { transform: translate(-50%, -150px) scale(0.8) rotate(-45deg); opacity:0; }
  }

  .kiss {
    position: absolute;
    font-size: 2em;
    animation: floatKiss 1.5s ease forwards;
  }

  @keyframes floatKiss {
    0% { transform: translateY(0) scale(1); opacity:1; }
    100% { transform: translateY(-100px) scale(0.5); opacity:0; }
  }
</style>
</head>
<body>

<div class="pokeball" id="pokeball">
  <div class="top" id="top"></div>
  <div class="bottom"></div>
  <div class="center"></div>
</div>

<div class="message" id="message">
  <p>Te elijo a ti ‚ù§Ô∏è</p>
  <p>Aunque estemos lejos, siempre eres mi persona favorita</p>
  <button id="kissButton">Te mando un besito virtual üíã</button>
</div>

<div class="hearts" id="hearts"></div>

<script>
  const pokeball = document.getElementById('pokeball');
  const top = document.getElementById('top');
  const message = document.getElementById('message');
  const heartsContainer = document.getElementById('hearts');
  const kissButton = document.getElementById('kissButton');

  let opened = false;

  function createHeart() {
    const heart = document.createElement('div');
    heart.classList.add('heart');
    heart.style.left = Math.random() * 100 - 50 + 'px';
    heartsContainer.appendChild(heart);
    setTimeout(() => heart.remove(), 2000);
  }

  function createKiss() {
    const kiss = document.createElement('div');
    kiss.classList.add('kiss');
    kiss.style.left = Math.random() * 100 - 50 + 'px';
    kiss.style.top = Math.random() * 50 + 'px';
    kiss.innerText = 'üíã';
    document.body.appendChild(kiss);
    setTimeout(() => kiss.remove(), 1500);
  }

  function shakePokeball(times, interval, callback) {
    let count = 0;
    const shake = setInterval(() => {
      pokeball.style.transform = 'rotate(15deg)';
      setTimeout(() => pokeball.style.transform = 'rotate(-15deg)', 200);
      count++;
      if (count >= times) {
        clearInterval(shake);
        pokeball.style.transform = 'rotate(0deg)';
        callback();
      }
    }, interval);
  }

  pokeball.addEventListener('click', () => {
    if (opened) return;
    shakePokeball(3, 2000, () => {
      // abrir pokeball
      top.style.transform = 'translateY(-75px) rotate(-45deg)';
      message.style.display = 'block';

      // generar corazones cada 0.2s durante 2s
      let heartCount = 0;
      const heartInterval = setInterval(() => {
        createHeart();
        heartCount++;
        if (heartCount >= 10) clearInterval(heartInterval);
      }, 200);

      opened = true;
    });
  });

  kissButton.addEventListener('click', () => {
    createKiss();
  });
</script>

</body>
</html>
